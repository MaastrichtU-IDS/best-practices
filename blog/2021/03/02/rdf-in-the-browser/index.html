<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/best-practices/blog/rss.xml" title="IDS Best Practices Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/best-practices/blog/atom.xml" title="IDS Best Practices Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:200,300,400,400i,500,600,700">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">A triplestore in your browser? | IDS Best Practices</title><meta data-react-helmet="true" property="og:title" content="A triplestore in your browser? | IDS Best Practices"><meta data-react-helmet="true" name="description" content="Doing some exploration to handle large scale RDF knowledge graphs directly in the browser"><meta data-react-helmet="true" property="og:description" content="Doing some exploration to handle large scale RDF knowledge graphs directly in the browser"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/best-practices/img/favicon.ico"><link rel="stylesheet" href="/best-practices/styles.fc84572a.css">
<link rel="preload" href="/best-practices/styles.841b020c.js" as="script">
<link rel="preload" href="/best-practices/runtime~main.95893ed5.js" as="script">
<link rel="preload" href="/best-practices/main.bcce34da.js" as="script">
<link rel="preload" href="/best-practices/1.37b1ec93.js" as="script">
<link rel="preload" href="/best-practices/2.8fd1e108.js" as="script">
<link rel="preload" href="/best-practices/3.acc271f2.js" as="script">
<link rel="preload" href="/best-practices/01a85c17.d2a67d64.js" as="script">
<link rel="preload" href="/best-practices/1a4e3797.df9f4e9a.js" as="script">
<link rel="preload" href="/best-practices/1be78505.075aeab7.js" as="script">
<link rel="preload" href="/best-practices/6875c492.e8ea4c22.js" as="script">
<link rel="preload" href="/best-practices/a6aa9e1f.efb13216.js" as="script">
<link rel="preload" href="/best-practices/c4f5d8e4.335af86d.js" as="script">
<link rel="preload" href="/best-practices/ccc49370.25821ccf.js" as="script">
<link rel="preload" href="/best-practices/61.b3d2c78b.js" as="script">
<link rel="preload" href="/best-practices/d3c81e4c.59c076e8.js" as="script">
<link rel="preload" href="/best-practices/cec9d08b.df8b0d0d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/best-practices/"><img src="/best-practices/img/favicon.ico" alt="Institute of Data Science" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/best-practices/img/favicon.ico" alt="Institute of Data Science" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Institute of Data Science</strong></a><a class="navbar__item navbar__link" href="/best-practices/docs/">Best practices</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/best-practices/blog/">Blog</a><a class="navbar__item navbar__link" href="/best-practices/contributing">Contribute</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MaastrichtU-IDS/best-practices" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_1-U_"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_18Th searchBarLoadingRing_zYFK"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/best-practices/"><img src="/best-practices/img/favicon.ico" alt="Institute of Data Science" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/best-practices/img/favicon.ico" alt="Institute of Data Science" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Institute of Data Science</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/best-practices/docs/">Best practices</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/best-practices/blog/">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/best-practices/contributing">Contribute</a></li><li class="menu__list-item"><a href="https://github.com/MaastrichtU-IDS/best-practices" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/best-practices/blog/2021/03/02/rdf-in-the-browser">A triplestore in your browser?</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/best-practices/blog/2021/01/19/usecase-nanopublication">Publish Nanopublications</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/best-practices/blog/2021/01/19/private-image-openshift-deploy">Hosting docker images for DSRI</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/best-practices/blog/2020/12/20/code-security">Improve code security</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/best-practices/blog/2020/12/17/vscode-extensions">VisualStudio Code extensions</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">A triplestore in your browser?</h1><div class="margin-vert--md"><time datetime="2021-03-02T00:00:00.000Z" class="blogPostDate_Ta7i">March 2, 2021  Â· 5 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/vemonet" target="_blank" rel="noreferrer noopener">Vincent Emonet</a></h4><small class="avatar__subtitle">Data Science engineer at IDS</small></div></div></header><section class="markdown"><p>Which solutions are available to store and access relatively large RDF file directly in a browser? Without the need for NodeJS, or anything else than a static server to publish files (using GitHub or GitLab Pages for example)</p><p>This would enable distributed processing, edition and querying of RDF data in the browser without requiring any installation, or any backend server to perform the processing or pre-processing. We would just need to host the JavaScript and RDF files on a static hosting service. When a user access the website it will download the JavaScript, which will download and handle the RDF. Additionally JS workers will be able to efficiently cache the data to avoid needing to reload everything at each new connection.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="git"></a>Git<a class="hash-link" href="#git" title="Direct link to heading">#</a></h2><p>This would allow to work with RDF data a bit like we work with code in <code>git</code>: in a distributed and scalable manner</p><p>Nowadays, Git has become a reference in software engineering, one of it&#x27;s most important concept is distribution (done right). Which was aiming to overcome Subversion main problem: centralization. </p><p>In our case:</p><ul><li>The scalability of centralized systems fully depends on the resources of the person/entity deploying the system (and requires a good connection). It will require the maintainer to increase allocated resources when the users and data size will grow.</li><li>The scalability of distributed systems mainly relies on the implementation of standards by each actor using the system. It will require the maintainer to only make sure the files are stored on a scalable static serving server (cheap, stable, and efficient solution)</li></ul><p>Pull the data, play with it locally, edit it, push it back, authenticate with <a href="https://solidproject.org/" target="_blank" rel="noopener noreferrer">SOLID</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="indexeddb"></a><a href="https://www.w3.org/TR/IndexedDB-2" target="_blank" rel="noopener noreferrer">IndexedDB</a><a class="hash-link" href="#indexeddb" title="Direct link to heading">#</a></h2><p>I recently discovered the <a href="https://www.w3.org/TR/IndexedDB-2" target="_blank" rel="noopener noreferrer">IndexedDB W3C recommendation</a> for large scale in-browser structured database, it seems like an ideal candidate to store and access RDF data in the browser at relatively large scale (this might depend on the user browser though)</p><p>Here is IndexedDB description <a href="https://developers.google.com/web/ilt/pwa/working-with-indexeddb" target="_blank" rel="noopener noreferrer">according to Google</a>:</p><blockquote><p>IndexedDB is a large-scale, NoSQL storage system. It lets you store just about anything in the user&#x27;s browser. In addition to the usual search, get, and put actions, IndexedDB also supports transactions.</p></blockquote><p>Here is the IndexedDB description <a href="https://developer.mozilla.org/en/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener noreferrer">according to Mozilla</a>:</p><blockquote><p>IndexedDB is a low-level API for client-side storage of significant amounts of structured data, including files/blobs. This API uses indexes to enable high performance searches of this data. While DOM Storage is useful for storing smaller amounts of data, it is less useful for storing larger amounts of structured data. IndexedDB provides a solution.</p></blockquote><p>So let&#x27;s try to look into this list to see if there are some interesting implementation for manipulating relatively large RDF datasets directly in the browser!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rdf-js"></a><a href="https://rdf.js.org" target="_blank" rel="noopener noreferrer">RDF JS</a><a class="hash-link" href="#rdf-js" title="Direct link to heading">#</a></h2><p>Let&#x27;s look into the reference website for RDF JavaScript implementations: <a href="https://rdf.js.org" target="_blank" rel="noopener noreferrer">https://rdf.js.org</a> </p><p>33 libraries are listed. With a cryptic category assigned for each: DataFactory, DataFactory Sink, or Dataset</p><p>A lot of those libraries seems to be parsers or streamers implementing a RDF specification for JavaScript: <a href="http://rdf.js.org/data-model-spec" target="_blank" rel="noopener noreferrer">http://rdf.js.org/data-model-spec</a>. The specification provides an interface for JavaScript Object (basically subject, predicate, object, graph, like the existing RDF specification).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="node-quadstore"></a><a href="https://github.com/beautifulinteractions/node-quadstore" target="_blank" rel="noopener noreferrer">node-quadstore</a><a class="hash-link" href="#node-quadstore" title="Direct link to heading">#</a></h2><p><a href="https://github.com/beautifulinteractions/node-quadstore" target="_blank" rel="noopener noreferrer">https://github.com/beautifulinteractions/node-quadstore</a> uses LevelDB</p><p>Unfortunately, node-quad-store uses <a href="https://github.com/google/leveldb#limitations" target="_blank" rel="noopener noreferrer">LevelDB</a> under the hood, so it is not browser based, it requires a NodeJS server to run.</p><blockquote><ul><li><p>This is not a SQL database. It does not have a relational data model, it does not support SQL queries, and it has no support for indexes.</p></li><li><p>Only a single process (possibly multi-threaded) can access a particular database at a time.</p></li><li><p>There is no client-server support builtin to the library. An application that needs such support will have to wrap their own server around the library.</p></li></ul></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="graphyjs"></a><a href="https://github.com/blake-regalia/graphy.js" target="_blank" rel="noopener noreferrer">Graphy.js</a><a class="hash-link" href="#graphyjs" title="Direct link to heading">#</a></h2><p>The graph is stored in memory, and they nicely warn that the main strength of Graphy is performing fast operations on small datasets</p><blockquote><p>This data structure is best suited for storing quads in memory when the  objective is to perform set operations quickly (e.g., union, difference, intersection, etc.) on relatively small datasets (still much better  storage density than the alternatives â€“ see <a href="https://github.com/blake-regalia/graphy.js/blob/master/perf/README.md#distinct-task" target="_blank" rel="noopener noreferrer">memory usage comparison</a> in the performance document).</p></blockquote><p>See the documentation to try it out: <a href="https://graphy.link/memory.dataset.fast" target="_blank" rel="noopener noreferrer">https://graphy.link/memory.dataset.fast</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-about-indexeddb-then"></a>What about IndexedDB then?<a class="hash-link" href="#what-about-indexeddb-then" title="Direct link to heading">#</a></h2><p>7 years ago a guy asked to RDF community if there was any interest about implementing something like &quot;IndexedGraph&quot; that would enable storing and querying RDF data similarly to IndexedDB: <a href="https://lists.w3.org/Archives/Public/public-rdfjs/2013Oct/0040.html" target="_blank" rel="noopener noreferrer">https://lists.w3.org/Archives/Public/public-rdfjs/2013Oct/0040.html</a>. Since then, there was no answer, and I could not find of any mention of using IndexedDB for RDF. </p><p>Note, there are a few wrappers to use IndexedDB with NoSQL db like CouchDB, or query it as SQL: </p><p>Implementing full SPARQL support would be a relatively large project. But it seems like a wrapper could be written to have better support to work with JSON-LD RDF data in IndexedDB. </p><p>Here are some ideas of a few simple features that could be helpful:</p><ul><li>automated creation of prefix table, and resolution of the context</li><li>reuse existing RDF JS parsers and streamers to synchronize data from the source to IndexedDB</li><li>provide functions to retrieve the complete URI of a property or an object (instead of just the JSON key)</li></ul></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/best-practices/blog/tags/web">web</a><a class="margin-horiz--sm" href="/best-practices/blog/tags/rdf">rdf</a><a class="margin-horiz--sm" href="/best-practices/blog/tags/development">development</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/best-practices/blog/2021/01/19/usecase-nanopublication"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Publish Nanopublications Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#git" class="table-of-contents__link">Git</a></li><li><a href="#indexeddb" class="table-of-contents__link">IndexedDB</a></li><li><a href="#rdf-js" class="table-of-contents__link">RDF JS</a></li><li><a href="#node-quadstore" class="table-of-contents__link">node-quadstore</a></li><li><a href="#graphyjs" class="table-of-contents__link">Graphy.js</a></li><li><a href="#what-about-indexeddb-then" class="table-of-contents__link">What about IndexedDB then?</a></li></ul></div></div></div></div></div><iframe style="display:none" class="form" src="https://docs.google.com/forms/d/e/1FAIpQLSdvfnNT5Yi7XLoVjDcwTuEM45npNCcjwMrGD8oKSXJfSalVZQ/viewform?usp=pp_url&amp;entry.1130493462=/best-practices/blog/2021/03/02/rdf-in-the-browser&amp;embedded=true" width="640" height="500" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><footer class="footer"><div class="container"><div class="text--center"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International license" target="_blank"><img src="/best-practices/img/cc-by.svg" alt="cc by license"></a></div><div style="margin-bottom:10px">Copyright Â© 2020 <a href="https://maastrichtuniversity.nl/ids" target="_blank" rel="noopener noreferrer">Institute of Data Science</a> at Maastricht University</div></div></div></footer></div>
<script src="/best-practices/styles.841b020c.js"></script>
<script src="/best-practices/runtime~main.95893ed5.js"></script>
<script src="/best-practices/main.bcce34da.js"></script>
<script src="/best-practices/1.37b1ec93.js"></script>
<script src="/best-practices/2.8fd1e108.js"></script>
<script src="/best-practices/3.acc271f2.js"></script>
<script src="/best-practices/01a85c17.d2a67d64.js"></script>
<script src="/best-practices/1a4e3797.df9f4e9a.js"></script>
<script src="/best-practices/1be78505.075aeab7.js"></script>
<script src="/best-practices/6875c492.e8ea4c22.js"></script>
<script src="/best-practices/a6aa9e1f.efb13216.js"></script>
<script src="/best-practices/c4f5d8e4.335af86d.js"></script>
<script src="/best-practices/ccc49370.25821ccf.js"></script>
<script src="/best-practices/61.b3d2c78b.js"></script>
<script src="/best-practices/d3c81e4c.59c076e8.js"></script>
<script src="/best-practices/cec9d08b.df8b0d0d.js"></script>
</body>
</html>